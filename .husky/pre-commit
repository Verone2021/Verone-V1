#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Validation pre-commit VÃ©rone..."
echo ""

# 1. Type check
echo "ğŸ“ Type checking..."
npm run type-check || exit 1

# 2. Lint staged files
echo ""
echo "ğŸ”§ Linting staged files..."
npx lint-staged || exit 1

# 3. Check naming conventions (staged files only)
echo ""
echo "ğŸ·ï¸  Checking naming conventions..."
node scripts/validation/check-naming-consistency.ts --staged || exit 1

# 4. Check database type alignment (staged files only)
echo ""
echo "ğŸ—„ï¸  Checking database type alignment..."
node scripts/validation/check-db-type-alignment.ts --staged || exit 1

echo ""
echo "âœ… Pre-commit validation rÃ©ussie!"
echo ""
