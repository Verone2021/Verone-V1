#!/bin/sh

# 1. VÃ©rifier si migrations Supabase modifiÃ©es
if git diff --cached --name-only | grep -q "supabase/migrations/"; then
  echo "ğŸ”„ Migrations Supabase dÃ©tectÃ©es, rÃ©gÃ©nÃ©ration types..."
  pnpm generate:types
  git add packages/@verone/types/src/supabase.ts
fi

# 2. Lint-staged (ESLint + Prettier)
npx lint-staged
