# Archive Plans - 2026-01-14

## Archived 2026-01-14

- [x] LM-SEL-003 Corrections sélection : pagination + bouton + catégorisation (abaae16a)
- [x] LM-SEL-001 Refactoriser page sélection partagée : pagination + séparation pages (ae83cc67)
- [x] BO-WORK-001 Mise en place du workflow Claude Code avec source de verite unique (738dcc67)
- [x] BO-WORK-002 Fix Stop hook - gestion chemins absolus et exit codes (ff74fdaa)
- [x] BO-WORK-003 Documenter workflow Task ID dans CLAUDE.md et memoire Serena (d695ad88)
- [x] BO-WORK-004 Handoff READ→WRITE mailbox (boite aux lettres locale) (b447c5ef)
- [x] LM-ORG-001 Transformer page /reseau en onglet Vue Carte dans /organisations (e3930d65)
- [x] BO-SENTRY-001 Setup Sentry expert (Replay + Feedback + Security fixes) (0368aeca)
- [x] BO-WORK-005 (9afe8fb2) (auto-added)
- [x] LM-ORG-002 (7a48a74d) (auto-added)
- [x] LM-ORG-003 Améliorer design popup carte organisations (8a44b70f)
- [x] LM-ORD-004 Audit & unification formulaires commande (auth vs public) (53b5809c)
- [x] BO-FORM-001-1 : Créer migration `20260115_001_create_form_submissions.sql`
- [x] BO-FORM-001-2 : Créer migration `20260115_002_create_form_types.sql`
- [x] BO-FORM-001-3 : Créer migration `20260115_003_create_form_submission_messages.sql`
- [x] BO-FORM-001-4 : Créer migration `20260115_004_create_app_settings.sql`
- [x] BO-FORM-001-5 : Créer migration `20260115_005_form_submissions_rls.sql`
- [x] BO-FORM-001-6 : Créer migration `20260115_006_form_submission_triggers.sql`
- [x] BO-FORM-001-7 : Créer migration `20260115_007_drop_linkme_contact_requests.sql`
- [x] BO-FORM-001-8 : Appliquer toutes les migrations via psql
- [x] BO-FORM-001-9 : Vérifier tables dans Supabase Dashboard
- [x] BO-FORM-001-10 : Créer `/api/forms/submit` route (84b9216b)
- [x] BO-FORM-001-11 : Créer `/api/emails/form-confirmation` route (84b9216b)
- [x] BO-FORM-001-12 : Créer `/api/emails/form-notification` route (84b9216b)
- [x] BO-FORM-001-13 : Tester avec curl/Postman (84b9216b)
- [x] BO-FORM-001-14 : Modifier `ContactForm.tsx` handleSubmit (84b9216b)
- [x] BO-FORM-001-15 : Tester soumission depuis LinkMe (84b9216b)
- [x] BO-FORM-001-16 : Vérifier emails envoyés (84b9216b)
- [x] BO-FORM-001-17 : Créer page `/prises-contact` (liste) (84b9216b)
- [x] BO-FORM-001-18 : Créer page `/prises-contact/[id]` (détail) (84b9216b)
- [x] BO-FORM-001-19 : Tester filtres et navigation (84b9216b)
- [x] BO-FORM-001-20 : Créer Server Actions conversions (84b9216b)
- [x] BO-FORM-001-21 : Intégrer boutons conversion (84b9216b)
- [x] BO-FORM-001-22 : Tester workflows complets (84b9216b)
- [x] BO-FORM-001-23 : Créer page `/parametres/notifications` (84b9216b)
- [x] BO-FORM-001-24 : Implémenter CRUD emails (84b9216b)
- [x] BO-FORM-001-25 : Tester configuration (84b9216b)
- [x] BO-FORM-001 (0a18fcba) (auto-added)
- [x] BO-FORM-001 (655cf546) (auto-added)
- [x] BO-FORM-001 (c1f00f4a) (auto-added)
- [x] BO-FORM-001 (cc9f6930) (auto-added)
- [x] LM-ADDR-001 (45da14be) (auto-added)
- [x] LM-ORD-005 (55225ab2) (auto-added)
- [x] ✅ Audit Git complet effectué (154 commits analysés)
- [x] ✅ Build local PASS (type-check + build)
- [x] ✅ Build local PASS (type-check + build)
- [x] **LM-ADDR-001-1** : Vérifier la clé API Geoapify (3d7cdbc6)
- [x] **LM-ADDR-001-2** : Vérifier que AddressAutocomplete est dans @verone/ui (3d7cdbc6)
- [x] **LM-ADDR-001-3** : Remplacer adresse de livraison (Step 1) (3d7cdbc6)
- [x] **LM-ADDR-001-4** : Remplacer adresse de facturation (Step 3) (3d7cdbc6)
- [x] **LM-ADDR-001-5** : Adapter le hook de soumission (3d7cdbc6)
- [x] **LM-ADDR-001-6** : Remplacer adresse restaurant (Step 1) (2e6fe258)
- [x] **LM-ADDR-001-7** : Remplacer adresse de facturation (Step 3) (2e6fe258)
- [x] **LM-ADDR-001-8** : Adapter le hook use-submit-unified-order (2e6fe258)
- [x] **LM-ADDR-001-9** : Vérifier colonnes organisations (45da14be)
- [x] **LM-ADDR-001-10** : Vérifier colonnes sales_order_linkme_details (45da14be)
- [x] **LM-ADDR-001-11** : Adapter RPC create_public_linkme_order (45da14be)
- [x] **LM-ADDR-001-12** : Auditer CustomerFormModal (45da14be)
- [x] **LM-ADDR-001-13** : Auditer EnseigneStepper (45da14be)
- [x] **LM-ADDR-001-14** : Tester CreateOrderModal (45da14be)
- [x] **LM-ADDR-001-15** : Tester OrderFormUnified (public) (45da14be)
- [x] **LM-ADDR-001-16** : Tester affichage sur carte (45da14be)
- [x] **LM-ADDR-001-17** : Vérifier console et erreurs (45da14be)
- [x] Vérifier si table `organisation_contacts` existe dans Supabase
- [x] Documenter structure exacte (colonnes, types, contraintes)
- [x] Identifier si contacts actuellement gérés autrement
- [x] Ajouter colonnes `billing_name`, `billing_email`, `billing_phone` pour contact facturation custom
- [x] Créer migration SQL
- [x] Mettre à jour RPC `create_public_linkme_order`
- [x] Mettre à jour hook frontend `useSubmitUnifiedOrder`
- [x] Créer fonction + trigger `auto_create_contacts_from_order()`
- [x] Logique intelligente : éviter doublons (vérifier si email existe déjà)
- [x] Parser nom complet en prénom/nom (ou stocker séparément)
- [x] Gérer cas owner_contact_same_as_requester = true
- [x] Hook `useOrganisationContacts` pourra charger ces contacts auto-créés
- [x] Pré-remplissage automatique pour commandes suivantes
- [x] Workflow complet bouclé !
- [x] Passer commande publique (nouveau restaurant)
- [x] Valider dans back-office
- [x] **Vérifier** : Contact créé automatiquement dans `organisation_contacts`
- [x] Passer 2e commande depuis affilié → **Vérifier** : Coordonnées pré-remplies
- [x] LM-ORD-004 (902a932e) (auto-added)
- [x] LM-ORD-004 (880af835) (auto-added)
