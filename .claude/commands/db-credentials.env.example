# üîê Database Credentials Template
# Copy this file to .mcp.env (DO NOT COMMIT .mcp.env!)
# Fill in your actual values from Supabase Dashboard

# ==========================================
# SUPABASE PROJECT CONFIGURATION
# ==========================================

# Project Reference ID
# Dashboard ‚Üí Settings ‚Üí General ‚Üí Reference ID
SUPABASE_PROJECT_REF=aorroydfjsrygmosnzrl

# Access Token (for MCP Server & CLI)
# Dashboard ‚Üí Settings ‚Üí API ‚Üí Create new access token
# Scopes needed: Read, Write (database operations)
SUPABASE_ACCESS_TOKEN=sbp_YOUR_TOKEN_HERE

# Database Password
# Dashboard ‚Üí Settings ‚Üí Database ‚Üí Database password
# NOTE: This is the postgres user password
SUPABASE_DB_PASSWORD=YOUR_PASSWORD_HERE

# ==========================================
# GENERATED URLs (auto-completed based on above)
# ==========================================

# API URL (auto-generated from project-ref)
SUPABASE_API_URL=https://${SUPABASE_PROJECT_REF}.supabase.co

# Database Connection String (Pooler Session Mode - IPv4)
# Format: postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-1-eu-west-3.pooler.supabase.com:5432/postgres
DATABASE_URL=postgresql://postgres.${SUPABASE_PROJECT_REF}:${SUPABASE_DB_PASSWORD}@aws-1-eu-west-3.pooler.supabase.com:5432/postgres

# ==========================================
# USAGE NOTES
# ==========================================

# 1. Copy this file:
#    cp .claude/commands/db-credentials.env.example .mcp.env

# 2. Fill in your actual credentials in .mcp.env

# 3. Verify .mcp.env is in .gitignore (CRITICAL!)

# 4. MCP Supabase will automatically load from .mcp.env

# 5. Restart Claude Code to apply changes

# ==========================================
# SECURITY CHECKLIST
# ==========================================

# ‚úÖ .mcp.env listed in .gitignore
# ‚úÖ Never commit credentials to Git
# ‚úÖ Rotate tokens if accidentally exposed
# ‚úÖ Use least-privilege access tokens
# ‚úÖ Keep this template file for reference

# ==========================================
# TROUBLESHOOTING
# ==========================================

# MCP Supabase can't connect?
# 1. Verify token has correct permissions (Dashboard ‚Üí Settings ‚Üí API)
# 2. Check project-ref matches your Supabase project
# 3. Ensure DATABASE_URL uses correct password
# 4. Test connection: psql "${DATABASE_URL}" -c "SELECT version();"

# Still issues? Check:
# - Firewall not blocking pooler.supabase.com
# - IP whitelist in Supabase (if configured)
# - Token not expired/revoked
